const signin=document.getElementById("signin"),requiredFields=["email","password","name","userRole","birthday"];function subtractYears(e,r=new Date){const s=new Date(r.getTime());return s.setFullYear(s.getFullYear()-e),s.toISOString().split("T")[0]}signin.addEventListener("click",(function(){let e={},r=new Date;if(e.birthday=subtractYears(18,r),storeTextOrTriggerError("name",e,"name"),storeEmailOrTriggerError("email",e,"email"),storeTextOrTriggerError("password",e,"password",6,20),storeTextOrTriggerError("confirm-password",e,"confirmPassword",6,20),e.userRole="USER",isKeysInDict(e,requiredFields)){if(alrtMessage.innerHTML="Successfully filled out.",swapAlert("alert-success","alert-warning"),e.password!==e.confirmPassword)return alrtMessage.innerHTML="Password and confirm password do not match.",void swapAlert("alert-warning","alert-danger");if(!0!==isChecked("policy"))return alrtMessage.innerHTML="You must agree to the terms and conditions.",void swapAlert("alert-warning","alert-danger");sendRequest("POST","http://localhost:8080/api/v1/registration",e).then((function(r){console.log(r),"success"==r.message?(alrtMessage.innerHTML="Account created successfully.",swapAlert("alert-success","alert-warning"),window.location.href="http://localhost:8080/login?email="+e.email):(alrtMessage.innerHTML="Failed to register account.",swapAlert("alert-warning","alert-success"))})).catch((()=>{alrtMessage.innerHTML="Server is not responding or you don't have any conection.",swapAlert("alert-warning","alert-success")}))}else alrtMessage.innerHTML="Please fill in all the required fields.",swapAlert("alert-warning","alert-success")}));